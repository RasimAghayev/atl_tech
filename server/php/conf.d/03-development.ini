; ===================================================
; PHP Development Configuration
; server/php/conf.d/03-development.ini
; ===================================================

; === DEBUG SETTINGS ===
display_errors = On
display_startup_errors = On
error_reporting = E_ALL
html_errors = On
log_errors = On
error_log = /var/log/php/debug.log

; === DEVELOPMENT OPCACHE ===
opcache.enable = 1
opcache.validate_timestamps = 1
opcache.revalidate_freq = 0
opcache.save_comments = 1
opcache.load_comments = 1

; === XDEBUG SETTINGS ===
; Note: Actual xdebug settings should be in separate xdebug.ini
xdebug.mode = debug,develop,coverage,profile
xdebug.client_host = host.docker.internal
xdebug.client_port = 9003
xdebug.idekey = VSCODE
xdebug.start_with_request = yes
xdebug.log = /var/log/php/xdebug.log
xdebug.log_level = 7

; === XDEBUG PROFILING ===
xdebug.profiler_enable = 0
xdebug.profiler_enable_trigger = 1
xdebug.profiler_output_dir = /tmp/xdebug
xdebug.profiler_output_name = cachegrind.out.%t-%s

; === XDEBUG COVERAGE ===
xdebug.coverage_enable = 1

; === XDEBUG STEP DEBUGGING ===
xdebug.step_debug = 1
xdebug.remote_cookie_expire_time = 3600

; === DEVELOPMENT RESOURCE LIMITS ===
memory_limit = 1G
max_execution_time = 300
max_input_time = 300
max_input_vars = 10000

; === DEVELOPMENT UPLOADS ===
upload_max_filesize = 128M
post_max_size = 128M
max_file_uploads = 20

; === DEVELOPMENT OUTPUT ===
output_buffering = Off
implicit_flush = On

; === DEVELOPMENT SESSION ===
session.gc_probability = 1
session.gc_divisor = 100

; === ASSERTION DEBUGGING ===
assert.active = On
assert.warning = On
assert.bail = Off
assert.callback = ""

; === DEVELOPMENT TIMEZONE ===
date.timezone = Asia/Baku

; === VAR_DUMP SETTINGS ===
;html_errors = On
docref_root = "http://manual/en/"
docref_ext = .html

; === DEVELOPMENT WARNINGS ===
track_errors = On
xmlrpc_errors = On

; === DEVELOPMENT MAIL ===
sendmail_path = /usr/sbin/sendmail -t -i

; === DEVELOPMENT MISC ===
auto_detect_line_endings = On
default_mimetype = "text/html"
default_charset = "UTF-8"

; === DEVELOPMENT FILTER ===
filter.default = unsafe_raw

; === DEVELOPMENT PRECISION ===
precision = 14
serialize_precision = 17

; === MYSQL DEVELOPMENT ===
mysql.trace_mode = On

; === DEVELOPMENT CACHE ===
realpath_cache_size = 16K
realpath_cache_ttl = 120